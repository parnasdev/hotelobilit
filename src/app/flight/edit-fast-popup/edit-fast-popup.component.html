<span class="direction-rtl p-3" *ngIf="!showForm && isLoading">در حال دریافت اطلاعات ...</span>
<div *ngIf="showForm" class="direction-rtl p-3">
    <div class="d-flex flex-column">

        <div class="d-flex justify-content-end top-select w-100">
            <select [(ngModel)]="isDomestic" (ngModelChange)="changeCityType()">
                <option [ngValue]="true">داخلی</option>
                <option [ngValue]="false">خارجی</option>
            </select>

        </div>
        <div class="items-row">
            <div class="item">
                <span>مبدا</span>
                <prs-custom-select (itemResult)="getOriginCity($event)" [inCommingItem]="req.origin_id"
                    *ngIf="(data.airports ?? []).length > 0" [list]="data.airports"></prs-custom-select>
                <div class="mt-2" *ngIf="error.hasError('origin') || error.hasError('origin') ">
                    <span class="text-danger">{{error.getError('origin')}} {{error.getError('origin') }}</span>
                </div>
            </div>
            <div class="item">
                <span>مقصد</span>
                <prs-custom-select (itemResult)="getDestCity($event)" [inCommingItem]="req.destination_id"
                    *ngIf="(airports ?? []).length > 0" [list]="airports"></prs-custom-select>
                <div class="mt-2" *ngIf="error.hasError('destination_id') || error.hasError('destination_id') ">
                    <span class="text-danger">{{error.getError('destination_id')}} {{error.getError('destination_id')
                        }}</span>
                </div>
            </div>
            <div class="item">
                <span>ایرلاین</span>
                <prs-custom-select (itemResult)="getAirlines($event)" [inCommingItem]="req.airline_id"
                    *ngIf="(data.airlines ?? []).length > 0" [list]="data.airlines"></prs-custom-select>
                <div class="mt-2" *ngIf="error.hasError('airline_id') || error.hasError('airline_id') ">
                    <span class="text-danger">{{error.getError('airline_id')}} {{error.getError('airline_id') }}</span>
                </div>
            </div>
            <div class="item">
                <span>مدل هواپیما</span>
                <prs-custom-select (itemResult)="getAirplanes($event)" [inCommingItem]="req.airplane_id"
                    *ngIf="(data.airplanes??[]).length > 0" [list]="data.airplanes"></prs-custom-select>
                <div class="mt-2" *ngIf="error.hasError('airplane_id') || error.hasError('airplane_id') ">
                    <span class="text-danger">{{error.getError('airplane_id')}} {{error.getError('airplane_id')
                        }}</span>
                </div>
            </div>
            <div class="item">
                <span>وضعیت</span>
                <div class="item-calender m-right-10">
                    <span>وضعیت</span>
                    <div style="background: white;" class="row-calender">
                        <select [(ngModel)]="req.is_close">
                            <option [ngValue]="false">open</option>
                            <option [ngValue]="true">close</option>
    
                        </select>
                    </div>
                </div>
                <div class="mt-2" *ngIf="error.hasError('airplane_id') || error.hasError('airplane_id') ">
                    <span class="text-danger">{{error.getError('airplane_id')}} {{error.getError('airplane_id')
                        }}</span>
                </div>
            </div>
        </div>

        <!-- <div class="d-flex mt-5"> -->
            <!-- <div class="item-calender">
                <span>انتخاب تاریخ</span>
                <div style="background: white;" class="row-calender">
                    <input class="w-100" type="text" [value]="(req.date | convertDate)" (click)="openPicker()">
                    <div class="mt-2" *ngIf="error.hasError('date') || error.hasError('date') ">
                        <span class="text-danger">{{error.getError('date')}}</span>
                    </div>
                </div>
            </div> -->
            <!-- <div class="item-calender m-right-10">
                <span>وضعیت</span>
                <div style="background: white;" class="row-calender">
                    <select [(ngModel)]="req.is_close">
                        <option [ngValue]="false">open</option>
                        <option [ngValue]="true">close</option>

                    </select>
                </div>
            </div>
        </div> -->
    </div>


    <div class="body-items-flight">

        <!-- <div class="item">
            <span>شماره پرواز </span>
            <input type="text" [(ngModel)]="req.flight_number">
            <div class="mt-2" *ngIf="error.hasError('flight_number') || error.hasError('flight_number') ">
                <span class="text-danger">{{error.getError('flight_number')}}</span>
            </div>
        </div>

        <div class="item-two">
            <span>ساعت پرواز </span>
            <prs-time-picker (result)="getTime($event)" [inCommingTime]="req.time"></prs-time-picker>
            <div class="mt-2" *ngIf="error.hasError('time') || error.hasError('time') ">
                <span class="text-danger">{{error.getError('time')}}</span>
            </div>
        </div> -->


        <!-- <div class="list-inp">
            <div class="item-full">
                <span>توضیحات</span>
                <textarea type="text" [(ngModel)]="req.description"></textarea>
                <div class="mt-2" *ngIf="error.hasError('description') || error.hasError('description') ">
                    <span class="text-danger">{{error.getError('description')}}</span>
                </div>
            </div>
        </div> -->




        <div class="d-flex w-100 flex-column align-items-center">
            <form class="w-100 d-flex align-items-center flex-wrap justify-content-center">
                <div class="example-list w-100">
                    <div>
                        <div class="item-room-form">

                            <div class="form-end form-top d-flex p-2 h-100">
                                <div class="item-row">
                                    <label for="">کلاس</label>
                                    <div class="inp-base h-45 d-flex flex-column">
                                        <input type="text" [(ngModel)]="req.cabin_type"
                                            [ngModelOptions]="{standalone: true}" placeholder="کلاس">
                                        <div class="mt-2"
                                            *ngIf="error.hasError('cabin_type') || error.hasError('cabin_type') ">
                                            <span class="text-danger">{{error.getError('cabin_type')}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item-row">
                                    <label for="">ظرفیت</label>
                                    <div class="inp-base d-flex flex-column">
                                        <textarea type="text" [(ngModel)]="req.capacity"
                                            [ngModelOptions]="{standalone: true}" placeholder="ظرفیت"></textarea>
                                        <div class="mt-2"
                                            *ngIf="error.hasError('capacity') || error.hasError('capacity') ">
                                            <span class="text-danger">{{error.getError('capacity')}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item-row">
                                    <label for="">قیمت بزرگسال (تومان)</label>
                                    <div class="inp-base d-flex flex-column">
                                        <textarea type="text" mask="separator" (keyup)="setChildPrice()" thousandSeparator=","
                                            [(ngModel)]="req.adl_price" [ngModelOptions]="{standalone: true}"
                                            placeholder="قیمت بزرگسال"></textarea>
                                        <div class="mt-2"
                                            *ngIf="error.hasError('adl_price') || error.hasError('adl_price') ">
                                            <span class="text-danger">{{error.getError('adl_price')}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item-row">
                                    <label for="">قیمت کودک (تومان)</label>
                                    <div class="inp-base d-flex flex-column">
                                        <textarea type="text" mask="separator" thousandSeparator=","
                                            [(ngModel)]="req.chd_price" [ngModelOptions]="{standalone: true}"
                                            placeholder="قیمت کودک"></textarea>
                                        <div class="mt-2"
                                            *ngIf="error.hasError('chd_price') || error.hasError('chd_price') ">
                                            <span class="text-danger">{{error.getError('chd_price')}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="item-row">
                                    <label for="">قیمت نوزاد (تومان)</label>
                                    <div class="inp-base d-flex flex-column">
                                        <textarea type="text" mask="separator" thousandSeparator=","
                                            [(ngModel)]="req.inf_price" [ngModelOptions]="{standalone: true}"
                                            placeholder="قیمت نوزاد"></textarea>
                                        <div class="mt-2"
                                            *ngIf="error.hasError('inf_price') || error.hasError('inf_price') ">
                                            <span class="text-danger">{{error.getError('inf_price')}}</span>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>


            </form>
        </div>


    </div>


</div>
<div class="d-flex align-items-center justify-content-center w-100">
    <button class="btn-submit" [disabled]="submitLoading" (click)="submit()">
        <span class="spinner-border spinner-border-sm" *ngIf="submitLoading"></span>

        ثبت</button>
</div>